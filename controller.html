<!DOCTYPE html>

<html>
    <head>
      <meta http-equiv="Cache-Control" content="no-cache">
      <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
      <script src="assets/components/raycaster-autorefresh.js"></script>
  </head>

  <body>
    <script>
      AFRAME.registerComponent('click-listener', {
        init: function() {
          var clicked = false;
          this.el.addEventListener('click', function(evt) {
            console.log('Clicked');
            var textField = document.querySelector("#textField");
            clicked = !clicked;
            if (clicked) {
              pos = camera.getAttribute("position").toString();
              textField.setAttribute('text', {"value": "Clicked"});
            }
            else {
              textField.setAttribute('text', {"value": "Unclicked"});
            }
            
          });
        }
      });
      </script>
    <a-scene raycaster-autorefresh click-listener>
     
      <a-assets>
        <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg" crossorigin="anonymous">
        <a-asset-item id="ghost" src="assets/models/Ghost.gltf"></a-asset-item>
      </a-assets>
      <a-sky src="#skyTexture" theta-length="90" radius="30"></a-sky>
      <!-- <a-entity gearvr-controls></a-entity> -->
      <a-entity laser-controls="hand: left"></a-entity>
      <a-entity laser-controls="hand: right"></a-entity>

      <a-camera id="camera" position="0 1.6 0">
        <!-- <a-cursor downEvents="triggerdown" upEvents="triggerup"></a-cursor> -->
        <!-- <a-entity id="cursor" cursor="downEvents: triggerdown trackpaddown; upEvents: triggerUp trackpadup;" 
                  geometry="primitive: sphere; radius: 0.05"
                  material="color: blue; shader: flat"
                  position="0 0 -1">
        </a-entity> -->
        </a-camera>
        <a-text id="textField" position="0 5 -2" value="Hello World"></a-text>
        <a-entity id="ground" geometry="primitive: cylinder; radius: 30; height: 0.1" 
                              position="0 0 0" 
                              material="shader: flat; color: #424949">
        </a-entity>
         
        <!-- <a-entity gltf-model="#ghost" cursor-listener position="0 1.6 -10"></a-entity>
        <a-entity gltf-model="#ghost" cursor-listener position="3 1.6 -10"></a-entity>
        <a-entity gltf-model="#ghost" cursor-listener position="5 1.6 -10"></a-entity>
        -->
    </a-scene>
  </body>
</html>